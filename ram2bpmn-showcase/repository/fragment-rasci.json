{
  "fragment" : {
    "cardinalities" : {
      "consult" : {
        "min" : 0,
        "max" : 1
      },
      "informed" : {
        "min" : 0,
        "max" : null
      },
      "accountable" : {
        "min" : 0,
        "max" : 1
      },
      "responsible" : {
        "min" : 1,
        "max" : 1
      },
      "support" : {
        "min" : 0,
        "max" : 1
      }
    },
    "code" : "base = fragments.replace(\"responsible\");\nif (f.hasTD(rasci.support)) {\n    base.insertParallel(fragments.replace(\"support\"));\n}\nif (f.hasTD(rasci.consulted)) {\n    base.insertParallel(fragments.replace(\"consult\"));\n}\nif (f.hasTD(rasci.accountable)) {\n    base.insertSequential(fragments.replace(\"accountable\"));\n    base.embedInLoop(\"${!approve}\", \"${approve}\");\n}\nif (f.hasTD(rasci.informed)) {\n    informRoles = f.filter(rasci.informed);\n    informFragment = null;\n    foreach(role: informRoles) {\n        if (informFragment == null) {\n            informFragment = fragments.replace(\"inform\", [\"informed\": role.role.name]);\n        } else {\n            informFragment.insertParallel(fragments.replace(\"inform\", [\"informed\": role.role.name]));\n        }\n\n    }\n    base.insertSequential(informFragment);\n\n}\nreturn base;",
    "fragments" : {
      "accountable" : "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\"  xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:signavio=\"http://www.signavio.com\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Signavio Process Editor, http://www.signavio.com\" exporterVersion=\"\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"sid-c703ffd3-a9e1-4b6f-9c14-e1120a3f5e25\" targetNamespace=\"http://www.signavio.com/bpmn20\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd\">\n<process id=\"sid-f30ec2c1-1e66-4749-ba76-2b24c1711020\" isExecutable=\"false\">\n   <userTask completionQuantity=\"1\" id=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\" isForCompensation=\"false\" name=\"Approve @{activityName}\" startQuantity=\"1\">\n      <potentialOwner>\n         <resourceAssignmentExpression>\n            <formalExpression>@{f.orMap(rasci.accountable)}</formalExpression>\n         </resourceAssignmentExpression>\n      </potentialOwner>\n      <extensionElements>\n         <camunda:formData>\n            <camunda:formField\n                    id=\"approve\" label=\"Approve @{activityName}?\" type=\"boolean\">\n            </camunda:formField>\n         </camunda:formData>\n      </extensionElements>\n   </userTask>\n   <sequenceFlow id=\"sid-F1C0F9A6-4BEE-47A4-8E24-9A23BA90B332\" name=\"\" targetRef=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\"/>\n   <sequenceFlow id=\"sid-BBA8AFEA-62FC-4734-8A99-810C0B1F079A\" name=\"\" sourceRef=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\"/>\n</process>\n</definitions>",
      "inform" : "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\"  xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:signavio=\"http://www.signavio.com\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Signavio Process Editor, http://www.signavio.com\" exporterVersion=\"\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"sid-c703ffd3-a9e1-4b6f-9c14-e1120a3f5e25\" targetNamespace=\"http://www.signavio.com/bpmn20\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd\">\n   <process id=\"sid-f30ec2c1-1e66-4749-ba76-2b24c1711020\" isExecutable=\"false\">\n      <userTask completionQuantity=\"1\" id=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\" isForCompensation=\"false\" name=\"Inform @{informed} about @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{responsibleBoD}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n      </userTask>\n      <sequenceFlow id=\"sid-F1C0F9A6-4BEE-47A4-8E24-9A23BA90B332\" name=\"\" targetRef=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\"/>\n      <sequenceFlow id=\"sid-BBA8AFEA-62FC-4734-8A99-810C0B1F079A\" name=\"\" sourceRef=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\"/>\n   </process>\n</definitions>",
      "responsible" : "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:signavio=\"http://www.signavio.com\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Signavio Process Editor, http://www.signavio.com\" exporterVersion=\"\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"sid-c703ffd3-a9e1-4b6f-9c14-e1120a3f5e25\" targetNamespace=\"http://www.signavio.com/bpmn20\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd\">\n   <process id=\"sid-f30ec2c1-1e66-4749-ba76-2b24c1711020\" isExecutable=\"false\">\n      <userTask completionQuantity=\"1\" id=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\" isForCompensation=\"false\" name=\"Perform Activity @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{responsibleBoD}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n      </userTask>\n      <sequenceFlow id=\"sid-F1C0F9A6-4BEE-47A4-8E24-9A23BA90B332\" name=\"\" targetRef=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\"/>\n      <sequenceFlow id=\"sid-BBA8AFEA-62FC-4734-8A99-810C0B1F079A\" name=\"\" sourceRef=\"sid-8FC733FC-1008-418C-BA7D-8212474BAB86\"/>\n   </process>\n</definitions>",
      "consult" : "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:signavio=\"http://www.signavio.com\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Signavio Process Editor, http://www.signavio.com\" exporterVersion=\"\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"sid-c703ffd3-a9e1-4b6f-9c14-e1120a3f5e25\" targetNamespace=\"http://www.signavio.com/bpmn20\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd\">\n   <process id=\"sid-f30ec2c1-1e66-4749-ba76-2b24c1711020\" isExecutable=\"false\">\n      <exclusiveGateway gatewayDirection=\"Converging\" id=\"closeGateway\"/>\n      <userTask completionQuantity=\"1\" id=\"decideConsult\" isForCompensation=\"false\" name=\"Decide if consulted required for @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{responsibleBoD}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n         <extensionElements>\n            <camunda:formData>\n               <camunda:formField\n                       id=\"consultrequired\" label=\"Consult required for @{activityName}\" type=\"boolean\">\n               </camunda:formField>\n            </camunda:formData>\n         </extensionElements>\n      </userTask>\n      <exclusiveGateway gatewayDirection=\"Diverging\" id=\"decision\" name=\"info required for @{activityName}?\"/>\n      <userTask completionQuantity=\"1\" id=\"provideConsult\" isForCompensation=\"false\" name=\"Provide information for @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{f.orMap(rasci.consulted)}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n      </userTask>\n      <userTask completionQuantity=\"1\" id=\"assessConsult\" isForCompensation=\"false\" name=\"Assess information for @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{responsibleBoD}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n      </userTask>\n      <sequenceFlow targetRef=\"closeGateway\"/>\n      <sequenceFlow sourceRef=\"closeGateway\" targetRef=\"decideConsult\"/>\n      <sequenceFlow sourceRef=\"decideConsult\" targetRef=\"decision\"/>\n      <sequenceFlow sourceRef=\"decision\" targetRef=\"provideConsult\" name=\"Yes\">\n         <conditionExpression xsi:type=\"tFormalExpression\">@{'${consultrequired}'}</conditionExpression>\n      </sequenceFlow>\n      <sequenceFlow sourceRef=\"provideConsult\" targetRef=\"assessConsult\"/>\n      <sequenceFlow sourceRef=\"decision\" name=\"No\">\n         <conditionExpression xsi:type=\"tFormalExpression\">@{'${!consultrequired}'}</conditionExpression>\n      </sequenceFlow>\n      <sequenceFlow sourceRef=\"assessConsult\" targetRef=\"closeGateway\"/>\n\n   </process>\n</definitions>",
      "support" : "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<definitions xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:omgdc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:omgdi=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:signavio=\"http://www.signavio.com\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Signavio Process Editor, http://www.signavio.com\" exporterVersion=\"\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"sid-c703ffd3-a9e1-4b6f-9c14-e1120a3f5e25\" targetNamespace=\"http://www.signavio.com/bpmn20\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd\">\n   <process id=\"sid-f30ec2c1-1e66-4749-ba76-2b24c1711020\" isExecutable=\"false\">\n      <exclusiveGateway gatewayDirection=\"Converging\" id=\"closeGateway\"/>\n      <userTask completionQuantity=\"1\" id=\"decideSupport\" isForCompensation=\"false\" name=\"Decide if support required for @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{responsibleBoD}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n         <extensionElements>\n            <camunda:formData>\n               <camunda:formField\n                       id=\"supportrequired\" label=\"Support required for @{activityName}\" type=\"boolean\">\n               </camunda:formField>\n            </camunda:formData>\n         </extensionElements>\n      </userTask>\n      <exclusiveGateway gatewayDirection=\"Diverging\" id=\"decision\" name=\"support required for @{activityName}?\"/>\n      <userTask completionQuantity=\"1\" id=\"provideSupport\" isForCompensation=\"false\" name=\"Provide support for @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{f.orMap(rasci.support)}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n      </userTask>\n      <userTask completionQuantity=\"1\" id=\"assessSupport\" isForCompensation=\"false\" name=\"Assess support for @{activityName}\" startQuantity=\"1\">\n         <potentialOwner>\n            <resourceAssignmentExpression>\n               <formalExpression>@{responsibleBoD}</formalExpression>\n            </resourceAssignmentExpression>\n         </potentialOwner>\n      </userTask>\n      <sequenceFlow targetRef=\"closeGateway\"/>\n      <sequenceFlow sourceRef=\"closeGateway\" targetRef=\"decideSupport\"/>\n      <sequenceFlow sourceRef=\"decideSupport\" targetRef=\"decision\"/>\n      <sequenceFlow sourceRef=\"decision\" targetRef=\"provideSupport\" name=\"Yes\">\n         <conditionExpression xsi:type=\"tFormalExpression\">@{'${supportrequired}'}</conditionExpression>\n      </sequenceFlow>\n      <sequenceFlow sourceRef=\"provideSupport\" targetRef=\"assessSupport\"/>\n      <sequenceFlow sourceRef=\"decision\" name=\"No\">\n         <conditionExpression xsi:type=\"tFormalExpression\">@{'${!supportrequired}'}</conditionExpression>\n      </sequenceFlow>\n      <sequenceFlow sourceRef=\"assessSupport\" targetRef=\"closeGateway\"/>\n\n   </process>\n</definitions>"
    },
    "mapping" : {
      "es.us.isa.cristal.ram.mappings.RalMapping" : { }
    }
  }
}